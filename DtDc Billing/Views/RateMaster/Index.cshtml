
@{
    ViewBag.Title = "Index";
    Html.EnableClientValidation(true);
    Layout = "~/Views/Shared/AdminLayout.cshtml";
}

<style>
    .nav-index li {
        width: 12%;
        text-align: center;
    }
</style>

<!-- Main content -->
<div class="content-wrapper">
    <div class="box box-info" style="padding:16px 16px !important">
        <div class="">
            <div class="row">
                @{
                    var sucMessage = ViewBag.Message as string;
                    var sMessage = TempData["Success"] as string;

                }



           
                <div class="col-md-12">
                    @*@if (string.IsNullOrEmpty(sucMessage))
                    {*@

                        @Html.Partial("~/Views/Shared/AlertPartial.cshtml", new Tuple<string, string>("success", sucMessage))
                    @*}*@

                    @if (!string.IsNullOrEmpty(sMessage))
                    {
                        <script>
                            document.getElementById('overlayBlock').style.display = 'none';
                        </script>
                        @Html.Partial("~/Views/Shared/AlertPartial.cshtml", new Tuple<string, string>("success", sMessage))
                    }

                    <ul id="Tab" class="nav nav-tabs nav-index" style=" margin-bottom: -14px;">
                        <li class="active"><a data-toggle="tab" href="#home">Add Company</a></li>
                        @{
                            var getDox = (IEnumerable<DtDc_Billing.Entity_FR.Ratem>)ViewBag.Dox;

                            var getNonDox = (IEnumerable<DtDc_Billing.Entity_FR.Nondox>)ViewBag.NonDox;

                            var getPlus = (IEnumerable<DtDc_Billing.Entity_FR.dtdcPlu>)ViewBag.Plus;

                            var getPTP = (IEnumerable<DtDc_Billing.Entity_FR.Dtdc_Ptp>)ViewBag.Ptp;

                            var getEC = (IEnumerable<DtDc_Billing.Entity_FR.express_cargo>)ViewBag.Cargo;

                            var getPri = (IEnumerable<DtDc_Billing.Entity_FR.Priority>)ViewBag.Priority;

                            var getECom = (IEnumerable<DtDc_Billing.Entity_FR.Dtdc_Ecommerce>)ViewBag.Dtdc_Ecommerce;

                            if (getDox.Count() > 0)
                            {
                                <li><a data-toggle="tab" href="#menu1">Dox</a></li>
                            }
                            if (getNonDox.Count() > 0)
                            {
                                <li><a data-toggle="tab" href="#menu2">NonDox</a></li>
                            }
                            if (getPlus.Count() > 0)
                            {
                                <li><a data-toggle="tab" href="#menu3">Dtdc PLUS</a></li>
                            }
                            if (getPTP.Count() > 0)
                            {
                                <li><a data-toggle="tab" href="#menu4">Dtdc PTP</a></li>
                            }
                            if (getEC.Count() > 0)
                            {
                                <li><a data-toggle="tab" href="#menu5">Express Cargo</a></li>
                            }
                            if (getPri.Count() > 0)
                            {
                                <li><a data-toggle="tab" href="#menu6">Priority</a></li>
                            }
                            if (getECom.Count() > 0)
                            {
                                <li><a data-toggle="tab" href="#menu7">E-Commerce</a></li>
                            }
                        }
                    </ul>
                    <div class="tab-content" style="background: white">
                        <div id="home" class="tab-pane fade in active">
                            <div id="frmEmp">
                                @{ Html.RenderPartial("RateMasterEditCompany", (DtDc_Billing.Models.CompanyModel)ViewBag.Company);}
                            </div>
                        </div>
                        @{

                            if (getDox.Count() > 0)
                            {
                                <div id="menu1" class="tab-pane fade">
                                    <div id="frmEmp1">
                                        @{ Html.RenderPartial("RateMasterDox", getDox);}
                                    </div>
                                </div>
                            }

                            if (getNonDox.Count() > 0)
                            {
                                <div id="menu2" class="tab-pane fade">
                                    <div id="frmEmp2">
                                        @{ Html.RenderPartial("RateMasterNonDox", getNonDox);}
                                    </div>
                                </div>
                            }
                            if (getPlus.Count() > 0)
                            {
                                <div id="menu3" class="tab-pane fade">
                                    <div id="frmEmp3">
                                        @{ Html.RenderPartial("RateMasterPlus", getPlus);}
                                    </div>
                                </div>
                            }
                            if (getPTP.Count() > 0)
                            {
                                <div id="menu4" class="tab-pane fade">
                                    <div id="frmEmp4">
                                        @{ Html.RenderPartial("RateMasterPtp", getPTP);}
                                    </div>
                                </div>
                            }
                            if (getEC.Count() > 0)
                            {
                                <div id="menu5" class="tab-pane fade">
                                    <div id="frmEmp5">
                                        @{ Html.RenderPartial("RateMasterExpressCargo", getEC);}
                                    </div>
                                </div>
                            }
                            if (getPri.Count() > 0)
                            {
                                <div id="menu6" class="tab-pane fade">
                                    <div id="frmEmp6">
                                        @{ Html.RenderPartial("Priority", getPri);}
                                    </div>
                                </div>
                            }
                            if (getECom.Count() > 0)
                            {
                                <div id="menu7" class="tab-pane fade">
                                    <div id="frmEmp7">
                                        @{ Html.RenderPartial("RateMasterEcommerce", getECom);}
                                    </div>
                                </div>
                            }
                        }
                        <input type="hidden" id="tabbb" name="tab" />
                    </div>
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
        </div>


        @*<div class="col-md-6">
                <div class="box box-success">
                    <div class="box-body">

                        <table id="tblProducts" class="table  table-bordered table-hover">
                            <thead>
                                <tr class="headings" style="">
                                    <th>Company Id</th>
                                    <th>Company Name</th>
                                    <th>Phone </th>
                                    <th>Email</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>

                        <input type="hidden" id="tabbb" name="tab" />


                    </div>

                </div>

            </div>*@
        <!-- /.box -->
        <!-- /.col -->
    </div>
    <!-- /.row -->

</div>


@*<script>
        $(document).ready(function () {


            $.ajax({
                type: 'GET',
                url: '@Url.Action("GetAllCompanes")',
                data: { },
                dataType: 'json',
                success: function (data) {

        var rows;
        $.each(data, function (i, item) {
            rows += "<tr>"
                + "<td>" + item.Company_Id + "</td>"
                + "<td>" + item.Company_Name + "</td>"
                + "<td>" + item.Phone + "</td>"
                + "<td>" + item.Email + "</td>"
                 + "</tr>";
        });
        $('#tblProducts tbody').append(rows);
     },
                error: function (emp) {
                    alert('error');
                }
            });

        });
    </script>*@












